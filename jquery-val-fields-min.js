/*
 * jQuery Validation Fields 1.0 by Francesco De Stefano Â© 2013
 * http://ulmdevice.altervista.org/jquery-validation-fields.html
 */
(function($){function validateform(e){var t=true;$("input",e).each(function(){settings=$.data(this,"settings");if(settings){if(doValidate(this,settings)==false){t=false}var e=$("button[type='reset'], input[type='reset']");e.click(function(e){location.reload()})}});$("textarea",e).each(function(){settings=$.data(this,"settings");if(settings){if(doValidate(this,settings)==false){t=false}}});return t}function doFocus(e,t){if(t.nohint)return;var n="#"+$(e).attr("id")+"_bubble";if(t.effect=="slide"){$(n).show("slide",{direction:"right"},500)}else if(t.effect=="fade"){$(n).fadeIn(500)}else{$(n).show()}}function doBlur(e,t){if(doValidate(e,t)){isOK(e,t)}}function setText(e,t){$(e).find(".bubbleContent").html(t)}function setBubbleColor(e,t,n){$(e).find(".bubbleContent").css("background-color",t);$(e).find(".bubbleArrow div").css("background-color",t);$(e).find(".bubbleArrow .line1").css("background-color",n);$(e).find(".bubbleArrow .line2").css("background-color",n);$(e).find(".bubbleContent").css("border-color",n);$(e).find(".bubbleArrow div").css("border-color",n);$(e).find(".bubbleArrow .line3").css("border-color",n)}function reportError(e,t,n){var r="#"+$(e).attr("id")+"_bubble";setText(r,n);setBubbleColor(r,t.color_error,t.color_border);if(t.effect=="slide"){$(r).show("slide",{direction:"right"},500)}else if(t.effect=="fade"){$(r).fadeIn(500)}else{$(r).show()}}function isOK(e,t){var n="#"+$(e).attr("id")+"_bubble";if(t.effect=="slide"){$(n).hide("slide",{direction:"right"},500)}else if(t.effect=="fade"){$(n).fadeOut(500,function(){setText(n,t.title_text);setBubbleColor(n,t.color_hint,t.color_border)})}else{$(n).hide();setText(n,t.title_text);setBubbleColor(n,t.color_hint,t.color_border)}}function doValidate(obj,settings){var mask=null;switch(settings.type){case"text":break;case"alphanumeric":mask=/\w*/;break;case"number":mask=/^[0-9-+]+$/;break;case"email":mask=/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/i;break;case"website":mask=/^(ftp:\/\/|http:\/\/|https:\/\/)?(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!-\/]))?$/;break;case"custom":mask=settings.param;break}pointer=$(obj);if(settings.required==true||pointer.val().length!=0){var isValid=true;if(mask){isValid=mask.test(pointer.val())}if(isValid){if(settings.length_min!=""){if(pointer.val().length<parseInt(settings.length_min)){isValid=false}}if(isValid&&settings.length_max!=""){if(pointer.val().length>parseInt(settings.length_max)){isValid=false}}}if(isValid){if(settings.type=="number"){if(settings.value_min!=""){isValid=eval(pointer.val()+settings.expr_min+settings.value_min)}if(isValid&&settings.value_max!=""){isValid=eval(pointer.val()+settings.expr_max+settings.value_max)}}if(settings.type=="checkbox"){isValid=$(obj).is(":checked")}if(settings.type=="radio"){var name=$(obj).attr("name");if($("input[name='"+name+"']:checked").val()){isValid=true}else{isValid=false}}if(settings.type=="select"){var index=$(obj).attr("selectedIndex");if(index==-1)isValid=false;if(index==0&&settings.disallowfirstchoice==true)isValid=false}if(settings.type=="ajax"){isValid=false;var data="value="+$(obj).val();$.ajax({type:"POST",async:false,url:settings.param,data:data,success:function(e){if(e=="true"){isValid=true}}})}if(settings.match_id){matchobj=$("#"+settings.match_id);matchsettings=matchobj.data("settings");if(matchobj.val()!=""&&matchobj.val()!=pointer.val()){reportError(obj,settings,settings.match_text);reportError(matchobj,matchsettings,matchsettings.match_text)}else{if(matchobj.val()!=""){isOK(matchobj,matchsettings)}return true}}else{if(isValid==false){reportError(obj,settings,settings.error_text)}return isValid}}else{reportError(obj,settings,settings.error_text);return false}}else{return true}}$.fn.validate=function(e){return this.each(function(){$.validate(this,e)})};$.validate=function(e,t){var n={title_text:"",error_text:"",color_text:"",color_hint:"",color_error:"",color_border:"",effect:"",match_text:"Values must be identical",match_id:null,length_min:"",length_max:"",value_min:"",value_max:"",expr_min:"",expr_max:"",type:"",required:true,disallowfirstchoice:false,nohint:false,font_family:"Arial",font_size:"",font_weight:"",font_style:"",position:"",offsetx:0,offsety:0,bubble_class:"bubble",param:null};if(t)n=$.extend(n,t);n.title_text=$(e).attr("title");if(n.title_text==""){n.title_text=$(e).attr("title")}var r=$(e).attr("id");var i="#"+r+"_bubble";var s='<div id="'+r+'_bubble" class="'+n.bubble_class+'">';s=s+'<div class="bubbleContent">'+n.title_text+"</div>";s=s+'<div class="bubbleArrow">';s=s+'<div class="line10"><!-- --></div>';s=s+'<div class="line9"><!-- --></div>';s=s+'<div class="line8"><!-- --></div>';s=s+'<div class="line7"><!-- --></div>';s=s+'<div class="line6"><!-- --></div>';s=s+'<div class="line5"><!-- --></div>';s=s+'<div class="line4"><!-- --></div>';s=s+'<div class="line3"><!-- --></div>';s=s+'<div class="line2"><!-- --></div>';s=s+'<div class="line1"><!-- --></div>';s=s+"</div>";s=s+"</div>";$("body").append(s);$(e).removeAttr("title");var o=$(e).offset().top;var u=$(e).offset().left;if(n.position=="topright"){u+=$(e).width();if(n.bubble_class=="bubble"){u-=27}o-=$(i).height();o-=10}if(n.position=="topleft"){o-=$(i).height();o-=10;if(n.bubble_class=="bubble"){u-=27}}if(n.position=="centerright"){u+=$(e).width()+13}u+=n.offsetx;o+=n.offsety;$(i).css({top:o,left:u});setBubbleColor(i,n.color_hint,n.color_border);$(i).find(".bubbleContent").css("color",n.color_text);$(i).find(".bubbleContent").css("font-family",n.font_family);$(i).find(".bubbleContent").css("font-size",n.font_size);$(i).find(".bubbleContent").css("font-weight",n.font_weight);$(i).find(".bubbleContent").css("font-style",n.font_style);$(i).hide();$.data(e,"settings",n);$(e).focus(function(){doFocus(e,n)}).blur(function(){doBlur(e,n)})};$.validate.form=function(e){return validateform(e)}})(jQuery)
